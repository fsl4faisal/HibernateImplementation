/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
create table Address (id bigint generated by default as identity (start with 1), version bigint, city varchar(255) not null, state varchar(64) not null, street varchar(255) not null, zip varchar(64) not null, primary key (id))
create table Company (id bigint not null, primary key (id))
create table Contact (id bigint generated by default as identity (start with 1), version bigint, name varchar(255) not null, primary key (id))
create table Office (id bigint generated by default as identity (start with 1), version bigint, name varchar(64) not null, address_id bigint not null, company_id bigint not null, primary key (id), unique (address_id))
create table Person (id bigint not null, address_id bigint not null, primary key (id), unique (address_id))
alter table Company add constraint FK9BDFD45D71C3314 foreign key (id) references Contact
alter table Office add constraint FK8C9C2ADCD485C673 foreign key (company_id) references Company
alter table Office add constraint FK8C9C2ADCD9EB7F13 foreign key (address_id) references Address
alter table Person add constraint FK8E488775D9EB7F13 foreign key (address_id) references Address
alter table Person add constraint FK8E48877571C3314 foreign key (id) references Contact
/*C6*/SET SCHEMA PUBLIC
INSERT INTO CONTACT VALUES(1,0,'d')
INSERT INTO COMPANY VALUES(1)
COMMIT
/*C8*/SET SCHEMA PUBLIC
INSERT INTO ADDRESS VALUES(2,0,'d','d','d','d')
INSERT INTO OFFICE VALUES(1,0,'d',2,1)
COMMIT
/*C7*/SET SCHEMA PUBLIC
DELETE FROM CONTACT WHERE ID=1
INSERT INTO CONTACT VALUES(1,1,'sa')
COMMIT
